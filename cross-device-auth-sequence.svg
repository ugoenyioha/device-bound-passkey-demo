<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2010px" preserveAspectRatio="none" style="width:1282px;height:2010px;background:#FEFEFE;" version="1.1" viewBox="0 0 1282 2010" width="1282px" zoomAndPan="magnify"><title>Cross-Device Passkey Authentication Flow
(Hybrid Transport - CTAP2)</title><defs/><g><rect fill="#FEFEFE" height="2010" style="stroke:none;stroke-width:1;" width="1282" x="0" y="0"/><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="524.7451" x="377.2246" y="37.1182">Cross-Device Passkey Authentication Flow</text><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="339.5498" x="469.8223" y="63.8555">(Hybrid Transport - CTAP2)</text><g><title>Browser</title><rect fill="#FFFFFF" height="1439.959" style="stroke:#000000;stroke-width:1;" width="10" x="212.8442" y="248.8872"/></g><g><title>RP Server</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="435.1284" y="278.6865"/></g><g><title>RP Server</title><rect fill="#FFFFFF" height="128.7959" style="stroke:#000000;stroke-width:1;" width="10" x="435.1284" y="1514.4517"/></g><g><title>macOS</title><rect fill="#FFFFFF" height="1055.1699" style="stroke:#000000;stroke-width:1;" width="10" x="562.9351" y="369.8838"/></g><g><title>iPhone</title><rect fill="#FFFFFF" height="822.9761" style="stroke:#000000;stroke-width:1;" width="10" x="767.5981" y="572.2783"/></g><g><title>Credential</title><rect fill="#FFFFFF" height="453.9863" style="stroke:#000000;stroke-width:1;" width="10" x="1003.5254" y="851.8701"/></g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1771.1494" width="8" x="24.9277" y="157.4893"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="28" x2="28" y1="157.4893" y2="1928.6387"/></g><g><title>Browser</title><rect fill="#000000" fill-opacity="0.00000" height="1771.1494" width="8" x="213.8442" y="157.4893"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="217.7656" x2="217.7656" y1="157.4893" y2="1928.6387"/></g><g><title>RP Server</title><rect fill="#000000" fill-opacity="0.00000" height="1771.1494" width="8" x="436.1284" y="157.4893"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="439.3369" x2="439.3369" y1="157.4893" y2="1928.6387"/></g><g><title>macOS</title><rect fill="#000000" fill-opacity="0.00000" height="1771.1494" width="8" x="563.9351" y="157.4893"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="567.9199" x2="567.9199" y1="157.4893" y2="1928.6387"/></g><g><title>iPhone</title><rect fill="#000000" fill-opacity="0.00000" height="1771.1494" width="8" x="768.5981" y="157.4893"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="771.9351" x2="771.9351" y1="157.4893" y2="1928.6387"/></g><g><title>Credential</title><rect fill="#000000" fill-opacity="0.00000" height="1771.1494" width="8" x="1004.5254" y="157.4893"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1007.7153" x2="1007.7153" y1="157.4893" y2="1928.6387"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.8555" x="10" y="154.5498">User</text><ellipse cx="28.9277" cy="88.4746" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M28.9277,96.4746 L28.9277,123.4746 M15.9277,104.4746 L41.9277,104.4746 M28.9277,123.4746 L15.9277,138.4746 M28.9277,123.4746 L41.9277,138.4746" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.8555" x="10" y="1941.7139">User</text><ellipse cx="28.9277" cy="1953.6533" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M28.9277,1961.6533 L28.9277,1988.6533 M15.9277,1969.6533 L41.9277,1969.6533 M28.9277,1988.6533 L15.9277,2003.6533 M28.9277,1988.6533 L41.9277,2003.6533" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-participant="browser"><rect fill="#ADD8E6" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="84.1572" x="175.7656" y="108.46"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57.1348" x="189.2769" y="129.5352">Browser</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70.1572" x="182.7656" y="146.5498">(Desktop)</text></g><g class="participant participant-tail" data-participant="browser"><rect fill="#ADD8E6" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="84.1572" x="175.7656" y="1927.6387"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57.1348" x="189.2769" y="1948.7139">Browser</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70.1572" x="182.7656" y="1965.7285">(Desktop)</text></g><g class="participant participant-head" data-participant="server"><rect fill="#90EE90" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="83.583" x="398.3369" y="108.46"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69.583" x="405.3369" y="129.5352">RP Server</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="65.9531" x="407.1519" y="146.5498">(Node.js)</text></g><g class="participant participant-tail" data-participant="server"><rect fill="#90EE90" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="83.583" x="398.3369" y="1927.6387"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69.583" x="405.3369" y="1948.7139">RP Server</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="65.9531" x="407.1519" y="1965.7285">(Node.js)</text></g><g class="participant participant-head" data-participant="macos"><rect fill="#FFFFE0" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="72.0303" x="531.9199" y="108.46"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="49.9092" x="542.9805" y="129.5352">macOS</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.0303" x="538.9199" y="146.5498">(CTAP2)</text></g><g class="participant participant-tail" data-participant="macos"><rect fill="#FFFFE0" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="72.0303" x="531.9199" y="1927.6387"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="49.9092" x="542.9805" y="1948.7139">macOS</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.0303" x="538.9199" y="1965.7285">(CTAP2)</text></g><g class="participant participant-head" data-participant="iphone"><rect fill="#FFC0CB" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="85.3262" x="729.9351" y="108.46"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46.8398" x="749.1782" y="129.5352">iPhone</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.3262" x="736.9351" y="146.5498">(iOS 17+)</text></g><g class="participant participant-tail" data-participant="iphone"><rect fill="#FFC0CB" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="85.3262" x="729.9351" y="1927.6387"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46.8398" x="749.1782" y="1948.7139">iPhone</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.3262" x="736.9351" y="1965.7285">(iOS 17+)</text></g><g class="participant participant-head" data-participant="provider"><rect fill="#FFA500" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="85.6201" x="965.7153" y="108.46"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.6201" x="972.7153" y="129.5352">Credential</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.0781" x="979.4863" y="146.5498">Provider</text></g><g class="participant participant-tail" data-participant="provider"><rect fill="#FFA500" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="85.6201" x="965.7153" y="1927.6387"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.6201" x="972.7153" y="1948.7139">Credential</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.0781" x="979.4863" y="1965.7285">Provider</text></g><g><title>Browser</title><rect fill="#FFFFFF" height="1439.959" style="stroke:#000000;stroke-width:1;" width="10" x="212.8442" y="248.8872"/></g><g><title>RP Server</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="435.1284" y="278.6865"/></g><g><title>RP Server</title><rect fill="#FFFFFF" height="128.7959" style="stroke:#000000;stroke-width:1;" width="10" x="435.1284" y="1514.4517"/></g><g><title>macOS</title><rect fill="#FFFFFF" height="1055.1699" style="stroke:#000000;stroke-width:1;" width="10" x="562.9351" y="369.8838"/></g><g><title>iPhone</title><rect fill="#FFFFFF" height="822.9761" style="stroke:#000000;stroke-width:1;" width="10" x="767.5981" y="572.2783"/></g><g><title>Credential</title><rect fill="#FFFFFF" height="453.9863" style="stroke:#000000;stroke-width:1;" width="10" x="1003.5254" y="851.8701"/></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1270.1943" x="5" y="188.3889"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="188.3889" y2="188.3889"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="191.3889" y2="191.3889"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="86.8457" x="596.6743" y="177.4893"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="68.4023" x="602.6743" y="194.5591">Initiation</text><g class="message" data-participant-1="user" data-participant-2="browser"><polygon fill="#000000" points="200.8442,244.8872,210.8442,248.8872,200.8442,252.8872,204.8442,248.8872" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="28.9277" x2="206.8442" y1="248.8872" y2="248.8872"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="30.6782" x="42.6543" y="228.3584">Click</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="73.3325" y="228.3584">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="91.4697" x="77.9028" y="228.3584">"Cross-Device</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="169.3726" y="228.3584">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="25.1748" x="173.9429" y="228.3584">(QR</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="44.6812" x="98.5454" y="244.1577">Code)"</text></g><g class="message" data-participant-1="browser" data-participant-2="server"><polygon fill="#000000" points="423.1284,274.6865,433.1284,278.6865,423.1284,282.6865,427.1284,278.6865" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="222.8442" x2="429.1284" y1="278.6865" y2="278.6865"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="34.9692" x="273.4348" y="273.957">POST</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="308.4041" y="273.957">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="71.5635" x="312.9744" y="273.957">/auth/start</text></g><g class="message" data-participant-1="server" data-participant-2="browser"><polygon fill="#000000" points="233.8442,304.4858,223.8442,308.4858,233.8442,312.4858,229.8442,308.4858" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="227.8442" x2="439.1284" y1="308.4858" y2="308.4858"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="61.7563" x="237.3442" y="303.7563">challenge</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="299.1006" y="303.7563">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="10.6387" x="303.6709" y="303.7563">+</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="314.3096" y="303.7563">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="106.7485" x="318.8799" y="303.7563">allowCredentials</text></g><g class="message" data-participant-1="browser" data-participant-2="macos"><polygon fill="#000000" points="550.9351,365.8838,560.9351,369.8838,550.9351,373.8838,554.9351,369.8838" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="222.8442" x2="556.9351" y1="369.8838" y2="369.8838"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="177.3154" x="304.2319" y="333.5557">navigator.credentials.get({</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="9.1406" x="319.6155" y="349.355">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="72.814" x="328.7561" y="349.355">transports:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="401.5701" y="349.355">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60.0234" x="406.1404" y="349.355">['hybrid']</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="14.1553" x="385.812" y="365.1543">})</text></g><g class="message" data-participant-1="macos" data-participant-2="browser"><polygon fill="#000000" points="233.8442,411.4824,223.8442,415.4824,233.8442,419.4824,229.8442,415.4824" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="227.8442" x2="561.9351" y1="415.4824" y2="415.4824"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.5249" x="338.5156" y="394.9536">Display</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="386.0405" y="394.9536">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="19.2715" x="390.6108" y="394.9536">QR</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="409.8823" y="394.9536">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="32.811" x="414.4526" y="394.9536">Code</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.9819" x="343.0447" y="410.7529">(CTAP2</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="391.0266" y="410.7529">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.1377" x="395.5969" y="410.7529">hybrid)</text></g><path d="M577,428.4824 L577,501.4824 L712,501.4824 L712,438.4824 L702,428.4824 L577,428.4824" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M702,428.4824 L702,438.4824 L712,438.4824 L702,428.4824" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84.1318" x="583" y="446.5522">QR contains:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="81.8911" x="583" y="462.3516">&#8226; Routing ID</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="77.4351" x="583" y="478.1509">&#8226; Public key</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.0928" x="583" y="493.9502">&#8226; One-time token</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1270.1943" x="5" y="527.5793"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="527.5793" y2="527.5793"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="530.5793" y2="530.5793"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="151.4902" x="564.3521" y="516.6797"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133.0469" x="570.3521" y="533.7495">QR Code Scanning</text><g class="message" data-participant-1="user" data-participant-2="iphone"><polygon fill="#000000" points="755.5981,568.2783,765.5981,572.2783,755.5981,576.2783,759.5981,572.2783" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="28.9277" x2="761.5981" y1="572.2783" y2="572.2783"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="31.6938" x="326.8328" y="567.5488">Scan</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="358.5266" y="567.5488">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="19.2715" x="363.0969" y="567.5488">QR</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="382.3684" y="567.5488">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.5552" x="386.9387" y="567.5488">with</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="414.4939" y="567.5488">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="50.6289" x="419.0642" y="567.5488">Camera</text></g><g class="message" data-participant-1="iphone" data-participant-2="macos"><polygon fill="#000000" points="583.9351,613.877,573.9351,617.877,583.9351,621.877,579.9351,617.877" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="755.5981,613.877,765.5981,617.877,755.5981,621.877,759.5981,617.877" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="577.9351" x2="761.5981" y1="617.877" y2="617.877"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="83.478" x="590.9399" y="597.3481">BLE/Internet</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="674.418" y="597.3481">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="70.605" x="678.9883" y="597.3481">handshake</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="71.4302" x="608.7578" y="613.1475">(Encrypted</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="680.188" y="613.1475">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.0171" x="684.7583" y="613.1475">tunnel)</text></g><g class="message" data-participant-1="macos" data-participant-2="iphone"><polygon fill="#000000" points="755.5981,659.4756,765.5981,663.4756,755.5981,667.4756,759.5981,663.4756" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="572.9351" x2="761.5981" y1="663.4756" y2="663.4756"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="42.0786" x="649.2273" y="642.9468">CTAP2</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="170.6631" x="584.9351" y="658.7461">authenticatorGetAssertion</text></g><path d="M782,676.4756 L782,749.4756 L921,749.4756 L921,686.4756 L911,676.4756 L782,676.4756" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M911,676.4756 L911,686.4756 L921,686.4756 L911,676.4756" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117.6094" x="788" y="694.5454">Request contains:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="38.8794" x="788" y="710.3447">&#8226; rpId</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="73.417" x="788" y="726.144">&#8226; challenge</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="118.4092" x="788" y="741.9434">&#8226; allowCredentials</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1270.1943" x="5" y="775.5725"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="775.5725" y2="775.5725"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="778.5725" y2="778.5725"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="151.0713" x="564.5615" y="764.6729"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132.6279" x="570.5615" y="781.7427">Credential Lookup</text><g class="message" data-participant-1="iphone" data-participant-2="provider"><polygon fill="#000000" points="991.5254,847.8701,1001.5254,851.8701,991.5254,855.8701,995.5254,851.8701" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="777.5981" x2="997.5254" y1="851.8701" y2="851.8701"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.0361" x="832.6584" y="815.542">Lookup</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="879.6946" y="815.542">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="64.2002" x="884.2649" y="815.542">credential</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="39.0254" x="871.0491" y="831.3413">(rpId:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="206.9272" x="787.0981" y="847.1406">passkeydemo.usableapps.local)</text></g><g class="message" data-participant-1="provider" data-participant-2="iphone"><polygon fill="#000000" points="788.5981,877.6694,778.5981,881.6694,788.5981,885.6694,784.5981,881.6694" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="782.5981" x2="1002.5254" y1="881.6694" y2="881.6694"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="39.9141" x="803.7004" y="876.9399">Found</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="843.6145" y="876.9399">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60.4678" x="848.1848" y="876.9399">matching</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="908.6526" y="876.9399">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="64.2002" x="913.2229" y="876.9399">credential</text></g><path d="M1018,894.6694 L1018,951.6694 L1205,951.6694 L1205,904.6694 L1195,894.6694 L1018,894.6694" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1195,894.6694 L1195,904.6694 L1205,904.6694 L1195,894.6694" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52.1904" x="1024" y="912.7393">Checks:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84.0239" x="1024" y="928.5386">&#8226; rpId match</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166.5371" x="1024" y="944.3379">&#8226; credentialId in allowList</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1270.1943" x="5" y="977.967"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="977.967" y2="977.967"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="980.967" y2="980.967"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="140.5342" x="569.8301" y="967.0674"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="122.0908" x="575.8301" y="984.1372">User Verification</text><g class="message" data-participant-1="iphone" data-participant-2="user"><polygon fill="#000000" points="39.9277,1018.666,29.9277,1022.666,39.9277,1026.666,35.9277,1022.666" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="33.9277" x2="766.5981" y1="1022.666" y2="1022.666"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.7959" x="347.3484" y="1017.9365">Face</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="377.1443" y="1017.9365">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="15.4883" x="381.7146" y="1017.9365">ID</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="397.2029" y="1017.9365">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.4043" x="401.7732" y="1017.9365">prompt</text></g><g class="message" data-participant-1="user" data-participant-2="iphone"><polygon fill="#000000" points="755.5981,1048.4653,765.5981,1052.4653,755.5981,1056.4653,759.5981,1052.4653" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="28.9277" x2="761.5981" y1="1052.4653" y2="1052.4653"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="82.5703" x="313.7026" y="1047.7358">Authenticate</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="396.2729" y="1047.7358">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.5552" x="400.8433" y="1047.7358">with</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="428.3984" y="1047.7358">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.7959" x="432.9688" y="1047.7358">Face</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="462.7646" y="1047.7358">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="15.4883" x="467.335" y="1047.7358">ID</text></g><g class="message" data-participant-1="iphone" data-participant-2="provider"><polygon fill="#000000" points="991.5254,1078.2646,1001.5254,1082.2646,991.5254,1086.2646,995.5254,1082.2646" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="777.5981" x2="997.5254" y1="1082.2646" y2="1082.2646"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="28.7803" x="808.0613" y="1077.5352">Sign</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="836.8416" y="1077.5352">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.5552" x="841.4119" y="1077.5352">with</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="868.967" y="1077.5352">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="44.9224" x="873.5374" y="1077.5352">Secure</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="918.4597" y="1077.5352">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="50.0322" x="923.03" y="1077.5352">Enclave</text></g><path d="M1018,1095.2646 L1018,1231.2646 L1270,1231.2646 L1270,1105.2646 L1260,1095.2646 L1018,1095.2646" fill="#FFFFE0" style="stroke:#000000;stroke-width:1;"/><path d="M1260,1095.2646 L1260,1105.2646 L1270,1105.2646 L1260,1095.2646" fill="#FFFFE0" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="187.021" x="1024" y="1113.3345">Authenticator Data Flags:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="195.311" x="1024" y="1129.1338">&#8226; UP (0x01) = User Present &#10003;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="197.0884" x="1024" y="1144.9331">&#8226; UV (0x04) = User Verified &#10003;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="7.0903" x="1024" y="1160.7324">&#8226;</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="219.5337" x="1035.6606" y="1160.7324">BE (0x08) = Backup Eligible &#10003;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="7.0903" x="1024" y="1176.5317">&#8226;</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="204.8198" x="1035.6606" y="1176.5317">BS (0x10) = Backup State &#10003;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="1024" y="1192.3311">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="101.8228" x="1024" y="1208.1304">Assertion flags:</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37.9717" x="1130.3931" y="1208.1304">0x1D</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="190.0234" x="1024" y="1223.9297">(BE+BS required for hybrid!)</text><g class="message" data-participant-1="provider" data-participant-2="iphone"><polygon fill="#000000" points="788.5981,1301.8564,778.5981,1305.8564,788.5981,1309.8564,784.5981,1305.8564" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="782.5981" x2="1007.5254" y1="1305.8564" y2="1305.8564"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="66.4346" x="859.8445" y="1253.729">Assertion:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="7.0903" x="828.2617" y="1269.5283">&#8226;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="835.3521" y="1269.5283">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117.9395" x="839.9224" y="1269.5283">authenticatorData</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="7.0903" x="856.6738" y="1285.3276">&#8226;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="863.7642" y="1285.3276">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="61.1152" x="868.3345" y="1285.3276">signature</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="7.0903" x="850.4785" y="1301.127">&#8226;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="857.5688" y="1301.127">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="73.5059" x="862.1392" y="1301.127">userHandle</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1270.1943" x="5" y="1334.7561"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="1334.7561" y2="1334.7561"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="1337.7561" y2="1337.7561"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="88.5786" x="595.8079" y="1323.8564"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70.1353" x="601.8079" y="1340.9263">Response</text><g class="message" data-participant-1="iphone" data-participant-2="macos"><polygon fill="#000000" points="583.9351,1391.2544,573.9351,1395.2544,583.9351,1399.2544,579.9351,1395.2544" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="577.9351" x2="771.5981" y1="1395.2544" y2="1395.2544"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60.5313" x="610.8167" y="1374.7256">Assertion</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="671.3479" y="1374.7256">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="58.7983" x="675.9182" y="1374.7256">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.9717" x="599.6765" y="1390.5249">(via</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="624.6482" y="1390.5249">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65.0508" x="629.2185" y="1390.5249">encrypted</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="694.2693" y="1390.5249">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.0171" x="698.8396" y="1390.5249">tunnel)</text></g><g class="message" data-participant-1="macos" data-participant-2="browser"><polygon fill="#000000" points="233.8442,1421.0537,223.8442,1425.0537,233.8442,1429.0537,229.8442,1425.0537" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="227.8442" x2="566.9351" y1="1425.0537" y2="1425.0537"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="66.5044" x="299.7114" y="1420.3242">Credential</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="366.2158" y="1420.3242">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="59.4521" x="370.7861" y="1420.3242">assertion</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="430.2383" y="1420.3242">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="56.2593" x="434.8086" y="1420.3242">returned</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1270.1943" x="5" y="1453.9534"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="1453.9534" y2="1453.9534"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="1456.9534" y2="1456.9534"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="102.7275" x="588.7334" y="1443.0537"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84.2842" x="594.7334" y="1460.1235">Verification</text><g class="message" data-participant-1="browser" data-participant-2="server"><polygon fill="#000000" points="423.1284,1510.4517,433.1284,1514.4517,423.1284,1518.4517,427.1284,1514.4517" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="222.8442" x2="429.1284" y1="1514.4517" y2="1514.4517"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="34.9692" x="270.2134" y="1493.9229">POST</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="305.1826" y="1493.9229">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78.0063" x="309.7529" y="1493.9229">/auth/verify</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65.3555" x="276.6531" y="1509.7222">(assertion</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="342.0085" y="1509.7222">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="34.7407" x="346.5789" y="1509.7222">data)</text></g><path d="M450,1527.4517 L450,1615.4517 L625,1615.4517 L625,1537.4517 L615,1527.4517 L450,1527.4517" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M615,1527.4517 L615,1537.4517 L625,1537.4517 L615,1527.4517" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="111.8203" x="456" y="1545.5215">Server validates:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.1172" x="456" y="1561.3208">&#8226; rpIdHash matches</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="110.1953" x="456" y="1577.1201">&#8226; Signature valid</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="154.4385" x="456" y="1592.9194">&#8226; Flags: UP, UV, BE, BS</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149.5063" x="456" y="1608.7188">&#8226; Counter incremented</text><g class="message" data-participant-1="server" data-participant-2="browser"><polygon fill="#000000" points="233.8442,1639.2476,223.8442,1643.2476,233.8442,1647.2476,229.8442,1643.2476" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="227.8442" x2="439.1284" y1="1643.2476" y2="1643.2476"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="30.4624" x="255.2891" y="1638.5181">Auth</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="285.7515" y="1638.5181">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="49.8354" x="290.3218" y="1638.5181">success</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="340.1572" y="1638.5181">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="10.6387" x="344.7275" y="1638.5181">+</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="355.3662" y="1638.5181">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.7471" x="359.9365" y="1638.5181">session</text></g><g class="message" data-participant-1="browser" data-participant-2="user"><polygon fill="#000000" points="39.9277,1684.8462,29.9277,1688.8462,39.9277,1692.8462,35.9277,1688.8462" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="33.9277" x2="216.8442" y1="1688.8462" y2="1688.8462"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.6377" x="43.4277" y="1668.3174">Redirect</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="97.0654" y="1668.3174">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="13.0127" x="101.6357" y="1668.3174">to</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="114.6484" y="1668.3174">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84.1255" x="119.2188" y="1668.3174">success.html</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65.1841" x="67.3743" y="1684.1167">"Welcome</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="132.5583" y="1684.1167">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="42.269" x="137.1287" y="1684.1167">Back!"</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1270.1943" x="5" y="1717.7458"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="1717.7458" y2="1717.7458"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1275.1943" y1="1720.7458" y2="1720.7458"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="71.4336" x="604.3804" y="1706.8462"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.9902" x="610.3804" y="1723.916">Legend</text><path d="M157,1745.6455 L157,1912.6455 L1067,1912.6455 L1067,1755.6455 L1057,1745.6455 L157,1745.6455" fill="#D3D3D3" style="stroke:#000000;stroke-width:1;"/><path d="M1057,1745.6455 L1057,1755.6455 L1067,1755.6455 L1057,1745.6455" fill="#D3D3D3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.1499" x="407.3767" y="1763.7153">Critical: BE+BS Flags</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="407.3767" y="1779.5146">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="399.6992" x="407.3767" y="1795.314">For cross-device/hybrid auth to work, the credential provider</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="318.4175" x="407.3767" y="1811.1133">MUST set BE=1 and BS=1 in authenticator data.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="407.3767" y="1826.9126">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="209.3394" x="407.3767" y="1842.7119">Without these flags, iOS shows:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="400.8164" x="407.3767" y="1858.5112">"You don't have any passkeys saved for this website or app."</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="407.3767" y="1874.3105">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="321.3628" x="407.3767" y="1890.1099">&#8226; Registration: 0x5D = UP + UV + BE + BS + AT</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="266.7095" x="407.3767" y="1905.9092">&#8226; Assertion: 0x1D = UP + UV + BE + BS</text><!--SRC=[VLRRRkCs47tNLqoSXyIvECwYHGkZAU1RBa2sSQra5ukc3umqiLZBf9QadBX5WVv3N_lKJzilwP2YB2f95ujrR6fcE7Fcp1djc0nN24NEk8Zqaek2ARQ21vOi5qgM8XtBN2hOFP_QVu65niybYWJVezPiWSESBmGaA0ogm4gXBgJGjTK8S_aqL4e-WL4b1eOhzknjOluxmhj-FtX8duOdl632p5YQSh4WWp1R-LoVd_QZo72J8uoLrFfuWckU8CoOralSmB2aUWK5OuPB0UUKphtOlzmyA9x2hMA2qbK6Zc5yEvozwqOHImoLtxdJg3h0D9Jq9GhoWSw8gg532ZD1lJIow3h3X-eOTg_v8ZEZdAfjkSrd4ADQEyUVP8gzttJbgDsfzxjGYABjk6B9JKnELOREXOwazXwVCAUYsYvybac1vCDlOZZzxh3oueKzXTqP5yks_LXXQb5Y-RsOARdcgQ- -y3zWzuQmMc0KdPt1bU1awl0yEuiYYn0S_rW3C81npfEb3HhqO__dEOofwcx78ipNp63j44KrT1Ia0cC0ivlu5auOTUz46qgryQei8e_QSNXnah4yHqeJ3e5PL9gwT9JYon3XlGxH0GYsvWj63EWbZMjlWMR_Zti1n65F63BzPIzpBDhxzLxysMtoSv6Yg6fHAxq9rpHs6_1Gr2s5Aaut4fBSbUqfo4SV1wnr8eMXSTK3-ldbhtzXBajZkNyryGUpye4m1oAyFxWHU6mupRcHI-8JYXHiTDS-Vpt42HF2XWcRM75au1vQooTkCXYp5IhMb5WPHP4dr0yDVgFhwScLbGI11Z8cKfsnfQrqAXArAGocO4eXCEzk4MhkT6ZS2zQCh5GNQ8QQShDiUm6Gpm9WRfL9crSmgU8gzL-tpF2_Nx6ZXL3p0AwbN9Q5WyXNImdNKp6e7oV1_EpRQmSaOKw0Kbp9NgdPGuwiA7GlbmdB0xRKeQ9eEsh70IJdLf49N9DajbFDFI-ms8O166UOB5iOLFur4jiGz82B2ebhhaqR0gj_y04LVwobimr1wHXzpcYqhoRs-bLXF8c2z0FrnOfAtkDjD6ExKfnPZ4cf48WrELlZ_nJR5a20WuDXI1sOCCD8yTb23muEVFbtCzZlF_TFk-1hdD768XVuyi_VjSa7P_BDrgI2WQZRs1mSZAREwdjhDQBbIIoOqahar6XhjxsGB6DhUTeFB6DZ0QdCo6xBS7XqsP8JEKnSZFtHz90YAE8ufzR18nLM2SPEDsZPc-pPnXtS2yVw41wBJdMi2NPc2E_gf-tY9OrkZg5cDaGbTipzbc-Heb61ffxwTO36OiqPu2iL26weLUKDvGm6aWMnAMU1QHZ3Yo-b-8gxNryoQsk-eJIR-2a1r7srTrvmqP-2t-smPZadHsmDu2NJMJM4gFrnN6DUUVZJYgn4qYDYuH6CflG_zi_690Kah3IpDC8h-zwL1lr_QntQQG1T9WczPz56rFJ7gkZN5k5sikUO4jqIGmka3j7Bp8hqhVCHyqJIQh5Stkc4uROBdV2_neNDpYBl49CsFMzmz7A4BnJRk04UAsxfcTCcSRHtW5H3Sax4JzmhHUfUAKwgAN2ajba-IRKy0Y9u876XBhw_esPhMakZwTaf4By9MlfY9R2b6hRjFNlXHn8YMhGs937TJUOHs1SgdL4Ljh-TJxA4L8ezk-lMI44tjUxJQnsTLEDgCgxX2HyqjpWee4NGwqJrBiS5YQzoF1r0__dRYPMT6VMBTEYGahKVCNqCRxr7CzLWLU8jyuOO_m40]--></g></svg>